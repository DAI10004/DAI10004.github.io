(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[308],{3751:function(e,a,t){Promise.resolve().then(t.bind(t,6727))},6727:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return x}});var r=t(3827),c=t(9102),o=t.n(c),s=t(4090),d=t(8792),n=t(9500),i=t(3665),l=t(1047),f=t(2891),b=t(5159),m=t(3879),h=t(1213),p=t(7307);function x(e){var a;let{post:t,children:c}=e,[x,g]=(0,s.useState)(!1),[u,y]=(0,s.useState)(!1),[w,v]=(0,s.useState)(""),[j,k]=(0,s.useState)(null),N=(0,s.useMemo)(()=>{let e;let a=[],r=t.content||"",c=/<h2[^>]*id=["']([^"']+)["'][^>]*>(.*?)<\/h2>/gi,o=/<h3[^>]*id=["']([^"']+)["'][^>]*>(.*?)<\/h3>/gi;for(;null!==(e=c.exec(r));)a.push({id:e[1],text:e[2].replace(/<[^>]+>/g,""),level:2});for(;null!==(e=o.exec(r));)a.push({id:e[1],text:e[2].replace(/<[^>]+>/g,""),level:3});return a},[t.content]);(0,s.useEffect)(()=>{g(window.matchMedia("(prefers-color-scheme: dark)").matches)},[]),(0,s.useEffect)(()=>{x?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[x]),(0,s.useEffect)(()=>{let e=()=>{y(window.scrollY>300);let e=document.querySelectorAll("h2[id], h3[id]"),a=window.scrollY+150,t="";e.forEach(e=>{e.offsetTop<=a&&(t=e.id)}),v(t)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let E=e=>{let a=document.getElementById(e);if(a){let e=a.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:e,behavior:"smooth"})}},C=async(e,a)=>{try{await navigator.clipboard.writeText(e),k(a),setTimeout(()=>k(null),2e3)}catch(e){console.error("复制失败:",e)}};return(0,s.useEffect)(()=>{document.querySelectorAll("pre code").forEach(e=>{let a=e.parentElement;if(a&&!a.querySelector(".copy-button")){let t=document.createElement("button");t.className="copy-button absolute top-2 right-2 p-2 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors opacity-0 group-hover:opacity-100",t.innerHTML=j===a.id?'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>':'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>',t.addEventListener("click",()=>{C(e.textContent||"",a.id||"code")}),a.style.position="relative",a.classList.add("group"),a.appendChild(t)}})},[t.content,j]),(0,s.useEffect)(()=>{document.querySelectorAll("pre").forEach(e=>{let a=e.querySelector("code");if(a&&!e.classList.contains("has-line-numbers")){var t;let r=((null===(t=a.textContent)||void 0===t?void 0:t.split("\n"))||[]).map((e,a)=>'<span class="line-number">'.concat(a+1,"</span>")).join(""),c=document.createElement("div");c.className="line-numbers",c.innerHTML=r,e.insertBefore(c,a),e.classList.add("has-line-numbers")}})},[t.content]),(0,r.jsxs)("div",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" "+"min-h-screen pt-24 pb-12 transition-colors duration-300 ".concat(x?"dark":""),children:[(0,r.jsx)(n.E.button,{onClick:()=>g(!x),className:"fixed top-24 right-4 z-40 p-3 rounded-full shadow-lg transition-all hover:scale-110 ".concat(x?"bg-gray-800 text-yellow-400 hover:bg-gray-700":"bg-white text-gray-600 hover:bg-gray-100"),whileHover:{scale:1.1},whileTap:{scale:.95},children:x?(0,r.jsx)(l.Z,{className:"w-5 h-5"}):(0,r.jsx)(f.Z,{className:"w-5 h-5"})}),u&&(0,r.jsx)(n.E.button,{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 right-4 z-40 p-3 rounded-full shadow-lg transition-all ".concat(x?"bg-gray-800 text-rose-400 hover:bg-gray-700":"bg-white text-rose-500 hover:bg-gray-100"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},whileHover:{scale:1.1},whileTap:{scale:.95},children:(0,r.jsx)(b.Z,{className:"w-5 h-5"})}),(0,r.jsx)("div",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" max-w-7xl mx-auto px-4",children:(0,r.jsxs)("div",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" flex flex-col lg:flex-row gap-8",children:[(0,r.jsx)("div",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" flex-1 min-w-0",children:(0,r.jsxs)("article",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" space-y-8",children:[(0,r.jsxs)(n.E.header,{className:"rounded-2xl p-8 ".concat(x?"bg-gray-800/60 backdrop-blur-md border border-gray-600/50":"bg-white/30 backdrop-blur-md border border-white/40"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,r.jsxs)(d.default,{href:"/blog",className:"inline-flex items-center gap-2 mb-6 text-sm font-medium transition-colors ".concat(x?"text-rose-400 hover:text-rose-300":"text-rose-600 hover:text-rose-500"),children:[(0,r.jsx)(m.Z,{className:"w-4 h-4"}),"返回文章列表"]}),(0,r.jsx)("h1",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" "+"text-3xl md:text-4xl font-bold mb-6 leading-tight ".concat(x?"text-white":"text-rose-900"),children:t.title}),(0,r.jsxs)("div",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" "+"flex flex-wrap gap-4 items-center text-sm ".concat(x?"text-gray-400":"text-rose-600/70"),children:[(0,r.jsxs)("div",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" flex items-center gap-2",children:[(0,r.jsx)(h.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]]),children:"miaojiang"})]}),(0,r.jsxs)("div",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" flex items-center gap-2",children:[(0,r.jsx)(p.Z,{className:"w-4 h-4"}),(0,r.jsx)("time",{dateTime:t.date,className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]]),children:t.date})]})]}),t.tags&&t.tags.length>0&&(0,r.jsx)("div",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" flex flex-wrap gap-2 mt-4",children:(a=t.tags)&&0!==a.length?a.map((e,a)=>(0,r.jsxs)(d.default,{href:"/blog?tag=".concat(e),className:"inline-flex items-center gap-1 px-3 py-1 bg-gradient-to-r from-rose-100 to-pink-100 text-rose-600 rounded-full text-sm border border-rose-200 hover:border-rose-400 transition-all",children:[(0,r.jsx)(i.Z,{className:"w-3 h-3"}),e]},a)):null})]}),(0,r.jsx)(n.E.div,{className:"rounded-xl p-6 ".concat(x?"bg-gray-800/60 backdrop-blur-md border border-gray-600/50":"bg-white/30 backdrop-blur-md border border-white/40"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:(0,r.jsxs)("div",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" flex items-center gap-4",children:[(0,r.jsx)(n.E.div,{className:"w-16 h-16 rounded-full flex items-center justify-center border-4 flex-shrink-0 overflow-hidden shadow-lg ".concat(x?"bg-gray-700/50 border-gray-500/50":"bg-white/50 backdrop-blur-sm border-white/60"),whileHover:{scale:1.05,rotate:5},transition:{type:"spring",stiffness:300},children:(0,r.jsx)("img",{src:"/波奇.png",alt:"波奇头像",className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" w-full h-full object-cover"})}),(0,r.jsxs)("div",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]]),children:[(0,r.jsx)("h3",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" "+"font-bold text-lg drop-shadow-sm ".concat(x?"text-white":"text-rose-900"),children:"miaojiang"}),(0,r.jsx)("p",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" "+"text-sm drop-shadow-sm ".concat(x?"text-gray-300":"text-rose-700"),children:"热爱技术的学生 \uD83D\uDCAB"})]})]})}),(0,r.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:t.content||""},className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" "+"prose prose-lg max-w-none rounded-2xl p-8 ".concat(x?"prose-invert prose-p:text-gray-200 prose-headings:text-white bg-gray-800/60 backdrop-blur-md border border-gray-600/50":"prose-p:text-rose-800 prose-headings:text-rose-900 bg-white/30 backdrop-blur-md border border-white/40"," prose-headings:font-bold prose-h2:text-2xl prose-h2:mt-8 prose-h2:mb-4 prose-h3:text-xl prose-h3:mt-6 prose-h3:mb-3 prose-a:text-rose-500 prose-a:no-underline hover:prose-a:underline prose-strong:text-rose-700 prose-code:text-rose-600 prose-pre:bg-rose-50/80 prose-pre:border-rose-200/60 dark:prose-pre:bg-gray-900/80 dark:prose-pre:border-gray-700/60")})})]})}),(0,r.jsx)("aside",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" hidden lg:block w-72 flex-shrink-0",children:(0,r.jsxs)(n.E.div,{className:"lg:sticky lg:top-28 rounded-2xl p-6 ".concat(x?"bg-gray-800/60 backdrop-blur-md border border-gray-600/50":"bg-white/30 backdrop-blur-md border border-white/40"),initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},children:[(0,r.jsx)("h3",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" "+"font-bold text-lg mb-4 drop-shadow-sm ".concat(x?"text-white":"text-rose-900"),children:"目录"}),N.length>0?(0,r.jsx)("nav",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" space-y-2",children:N.map(e=>(0,r.jsx)("button",{onClick:()=>E(e.id),className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" "+"block w-full text-left px-3 py-2 rounded-lg transition-all ".concat(w===e.id?x?"bg-rose-500/20 text-rose-400 font-medium":"bg-rose-100 text-rose-600 font-medium":x?"text-gray-400 hover:bg-gray-700 hover:text-gray-200":"text-rose-700/70 hover:bg-rose-50"," ").concat(3===e.level?"ml-4 text-sm":""),children:e.text},e.id))}):(0,r.jsx)("p",{className:o().dynamic([["12b29efb26322ec",[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"]]])+" "+"text-sm ".concat(x?"text-gray-500":"text-rose-600/50"),children:"暂无目录"})]})})]})}),(0,r.jsx)(o(),{id:"12b29efb26322ec",dynamic:[x?"#374151":"#e5e7eb",x?"#9ca3af":"#d1d5db",x?"#1f2937":"#fef2f2",x?"#374151":"#fecaca"],children:".prose pre{position:relative;overflow-x:auto}.line-numbers{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding-right:1rem;border-right:1px solid ".concat(x?"#374151":"#e5e7eb",";margin-right:1rem;text-align:right}.line-number{display:block;color:").concat(x?"#9ca3af":"#d1d5db",";font-size:.875rem;line-height:1.7142857}.prose pre code{display:block;padding:1rem;-webkit-border-radius:.5rem;-moz-border-radius:.5rem;border-radius:.5rem;background:").concat(x?"#1f2937":"#fef2f2",";border:1px solid ").concat(x?"#374151":"#fecaca","}.copy-button{-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.prose h2{scroll-margin-top:5rem}.prose h3{scroll-margin-top:5rem}")})]})}}},function(e){e.O(0,[475,792,82,971,69,744],function(){return e(e.s=3751)}),_N_E=e.O()}]);